$(document).ready(function(){function e(e,t){var a=e.width(),n=t.width(),r=e.height(),o=t.height(),i=!1;if(r<o){e.css({width:"auto",height:"100%"}),a=e.width(),n=t.width();var s=(a-n)/2;e.css("margin-left","-"+s+"px"),i=!0}else{var c=(o-r)/2;e.css("margin-top",c+"px"),i=!0}i&&(e.fadeIn(),i=!1)}function t(){var e=$("#search_input"),t=$(".search_result");e.focus(function(){$(".icon-search").css("color","#3199DB"),t.show()}),e.keyup(a(this.autoComplete)),$(document).click(function(e){"search_input"!==e.target.id&&"search_result"!==e.target.className&&"search_item"!==e.target.className&&($(".icon-search").css("color","#CAD3DC"),t.hide())})}function a(e,t){var a;return t=t||120,function(){var n=this,r=arguments,o=function(){e.apply(n,r)};clearTimeout(a),a=setTimeout(o,t)}}function n(e){var t=e.element.text(),a="#"+e.element.attr("id"),n=document.createElement("li"),r=document.createElement("a");return r.href=a,r.innerText=t,n.append(r),f.push({toc:$(r),page:e.element}),n}function r(e){if(0===e.length)return null;for(var t=document.createElement("ul"),a=0;a<e.length;a++){var o=e[a];if(t.append(n(o)),o.children.length>0){var i=r(o.children);t.append(i)}}return t}if($("#menu-toggle").on("click",function(e){$(".g-nav").slideToggle(200),$(document).one("click",function(){$(".g-nav").slideUp(200)}),e.stopPropagation()}),$(".g-nav").on("click",function(e){e.stopPropagation()}),$(window).width()>695){var o=$(".g-header"),i=o.outerHeight(),s=($(".g-logo"),o.find("a"),$(".post-content")),c=s.position().top,l=c+s.outerHeight(),h=$(".p-toc"),d=($(".g-banner").attr("data-theme"),$(document).scrollTop());$(document).scroll(function(){var e=$(this).scrollTop();e+25<c?(h.removeClass("fixed"),h.removeClass("stick-bottom")):e<l-h.outerHeight()-144?(h.addClass("fixed"),h.removeClass("stick-bottom")):(h.removeClass("fixed"),h.addClass("stick-bottom")),e>i?(o.addClass("fixed"),e>3*i&&o.addClass("headerUp")):(o.removeClass("fixed"),o.removeClass("headerUp")),d>e?o.addClass("headerDown"):o.removeClass("headerDown"),d=e})}$(".read-next-item section").each(function(){var e=$(this),t=e.height(),a=$(".read-next-item").height();e.css("margin-top",(a-t)/2+"px"),e.fadeIn()}),$(".read-next-item img").each(function(){e($(this),$(".read-next-item"))}),function(){for(var e=parseInt($("#total_pages").val()),t=parseInt($("#current_pages").val()),a=$("#base_url").val(),n="",r=t-3;r<t;r++)r>0&&1!==r?n+='<a href="'+a+"page"+r+'" class="page-link page-num">'+r+"</a>":1===r&&(n+='<a href="'+a+'" class="page-link page-num">'+r+"</a>");n+='<span class="page-link page-num active">'+t+"</span>";for(var o=t+1;o<=t+3;o++)o<=e&&(n+='<a href="'+a+"page"+o+'" class="page-link page-num">'+o+"</a>");$("#page-link-container").html(n)}(),t.prototype.autoComplete=function(){var e=this.value.toLowerCase();e.length?$(".icon-search").css("color","#3199DB"):$(".icon-search").css("color","#CAD3DC"),$.getJSON("../../search.json").done(function(t){var a="";for(var n in t){var r=t[n],o=r.title,i=r.tags,s=(r.url,o+i);""!==e&&s.toLowerCase().indexOf(e)>=0&&(a+='<a class="search_item" href="'+r.url+'">'+r.title+"</a>")}$(".search_result").html(a)})},new t;var s=$(".post-content"),u=$("#article-intro"),p=[{element:u,children:[]}],f=[],g=$(".p-toc");s.find("h1, h2, h3, h4, h5, h6").each(function(e,t){var a=$(t),n=parseInt(t.tagName.substr(1,1))-1,r=a.attr("id");if(r){if(g.length>0){for(var o=p,e=0;e<n&&0!==o.length;++e){var i=o[o.length-1];void 0!==i&&(o=i.children)}o.push({element:a,children:[]})}return a.append($("<a />").addClass("header-link").attr("href","#"+r).html('<i class="fa fa-link"></i>'))}}),g.length>0&&(g.append(r(p)),$(window).on("resize scroll",function(){for(var e=$(this).scrollTop(),t=e+$(this).height(),a=e+(t-e)/2,n=!1,r=f.length-1;r>=0;--r){var o=$(f[r].page),i=o.offset().top,s=i+o.outerHeight();i<=e&&!n?(n=!0,f[r].toc.addClass("active")):i>=e&&s<=t?(s<=a&&(n=!0),f[r].toc.addClass("active")):f[r].toc.removeClass("active")}})),$("a").each(function(e,t){var a=$(t);try{"#"==a.attr("href")[0]&&a.addClass("anchor-link")}catch(e){}}),$(".anchor-link").click(function(){d=-999}),function(){for(var e=document.links,t=0,a=e.length;t<a;t++)e[t].hostname!=window.location.hostname&&(e[t].target="_blank",e[t].className+=" externalLink")}()});